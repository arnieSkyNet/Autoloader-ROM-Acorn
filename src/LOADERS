Å..........*.......*.......*......*.......*.......*.......*.......*.......*.<FILE_NAME;	0	Indicates no such file 		(Should never be 0);	1	Indicates file exists but of unknown type;	2	Indicates object is directory	(Enter Directory);	3	This is a BASIC file/Program	(LOAD/CHAIN);	4	This is a ROM file/image	(No load facility);	5	This is a VIEW file		(Load/Read/Copy etc);	6	This is a WORDWISE file	(Load/Copy etc);	7	This is a AMPLE file		(No load facility);	8	This is a Folio File		(Entry, No Load facility)	JSR	FIND_FILE_TYPE	CMP	#03			; Check if filetype is BASIC        BNE     :not_chain        JSR     CHAIN_PROGRAM		; Load/Run BASIC file chosen	RTS:not_chain	CMP	#04	BNE	:not_romimage:not_romimage	CMP	#05			; Check if filetype is VIEW	BNE	:not_view	LDA	filetype_off	BNE	:keep_filetype_on	LDA	al_wp_type		; Find what WP user wants to use	CMP	#02			; If 2 then use WWISE +	BEQ	:pre_not_view:keep_filetype_on	JMP	:the_view_loader:pre_not_view	LDA	#06:not_view	CMP	#06			; Check if filetype is WORDWISE	BNE	:not_wwise	JSR	ENTER_WORDWISE		; so use WWISE whatever        JMP	:the_view_loader	:not_wwise	CMP	#07	BNE	:not_ample:not_ample	CMP	#08	BNE	:not_folio	JMP	:the_folio_loader:not_folio	JMP	:not_view_loader:the_view_loader	LDA	#0	STA	func_pointer        LDX	#>setup_view_data        LDY	#<setup_view_data	JSR	INSERT_FUNC_BUFFER		; 3 Returns        LDA     load_address         CMP	#&FF        BEQ     :read_load        CMP	#0        BEQ     :read_load      		LDY	#06				; Means do 6 returns	JSR	INSERT_N_RETURNS		; 3,6 Returns        LDX	#>view_load_data       ; File is a genuine viewfile        LDY	#<view_load_data		JSR	INSERT_FUNC_BUFFER		; 3,6,1 Returns	LDX	#>object_name	LDY	#<object_name	JSR	INSERT_FUNC_BUFFER        JSR     ENTER_VIEW			; 10 Returns:read_load				; This is to READ then NAME			LDY	#05				; Means do 5 returns	JSR	INSERT_N_RETURNS		; 3,5 Returns        LDX	#>view_read_data         LDY	#<view_read_data        JSR	INSERT_FUNC_BUFFER		; 3,5,1 Returns	LDX	#>object_name	LDY	#<object_name	JSR	INSERT_FUNC_BUFFER        LDX	#>view_name_data        LDY	#<view_name_data	JSR	INSERT_FUNC_BUFFER		; 3,5,1,1 Returns	LDX	#>object_name	LDY	#<object_name	JSR	INSERT_FUNC_BUFFER	JSR	ENTER_VIEW			; 10 ReturnsCOPY_FILE	LDA	#0	STA	func_pointer        LDX	#>setup_view_data        LDY	#<setup_view_data	JSR	INSERT_FUNC_BUFFER		; 3 Returns        LDA     load_address         CMP	#&FF				; Exit if Not View (READ)        BEQ     :copy_read_viewfile     	CMP	#00	BEQ	:copy_read_viewfile        LDX	#>view_load_data		; Here we LOAD file in        LDY	#<view_load_data	JSR	INSERT_FUNC_BUFFER		; 3,5,1 Returns	JMP	:skip_copy_read		; Skip LOAD set up:copy_read_viewfile				; Here we READ file in	LDX	#>view_read_data	LDY	#<view_read_data	JSR	INSERT_FUNC_BUFFER		; 3,5,1 Returns:skip_copy_read	LDX	#>object_name	LDY	#<object_name	JSR	INSERT_FUNC_BUFFER	JSR	PREP_NEW_FILE			; 10 Returns:esc_copy_viewfile        RTSPREP_NEW_FILE	LDA	row_flag			; See if switch been used	BEQ	:normal_name_enter		; If not do normal screens	JSR	MODE132				; Switch to Mode 132/4	JMP	:re_enter_normal_new_file:normal_name_enter	JSR	OPT_WINDOW	LDA	comm_ass_flag	BEQ	:re_enter_normal_new_file	CMP	#27	BPL	:re_enter_normal_new_file	LDX	#>new_report_header_text	LDY	#<new_report_header_text	JMP	:print_new_file_header:re_enter_normal_new_file	LDA	al_wp_type	CMP	#02	BNE	:not_new_wordwise:wordwise_new_file	JSR	RESTORE	JSR	CHIME_OFF_CODE	JMP	:new_wwise_file:not_new_wordwise        LDX	#>new_filename_header_text        LDY	#<new_filename_header_text:print_new_file_header        JSR     PRINT_TEXT	LDX	#>object_name	LDY	#<object_name	LDA	curr_file_syst	CMP	#04			; Check if DFS current FS	BNE	:not_loader_dfs	LDA	#07			; Set Max name length 7	JMP	:carry_on_new_name:not_loader_dfs        LDA	#10			; Set Max name length 10:carry_on_new_name        JSR     GET_NAME			; Get name that the file is        CPY	#00				; to be called.        BEQ     :esc_new_name			; If no string typed in	INY					; then exit.	LDA	#&FF	STA	object_name,Y	LDA	util_store	CMP	#0	BNE	:skip_setup	LDA	#0	STA	func_pointer        LDX	#>setup_view_data        LDY	#<setup_view_data	JSR	INSERT_FUNC_BUFFER		; 3 Returns	LDA	comm_ass_flag	BEQ	:skip_setup        JSR	APPEND_NEW_REPORT	LDY	#01			; Means do 1 returns	JSR	INSERT_N_RETURNS	; 3,5 Returns	:skip_setup	LDY	#05			; Means do 5 returns	JSR	INSERT_N_RETURNS	; 3,5 Returns        LDX	#>view_name_data        LDY	#<view_name_data	JSR	INSERT_FUNC_BUFFER	LDA	#&FF	STA	object_name+11	LDX	#>object_name	LDY	#<object_name	JSR	INSERT_FUNC_BUFFER	; 3,5,1 Returns	LDY	#01			; Means do 1 returns	JSR	INSERT_N_RETURNS        JSR     ENTER_VIEW		; 10 Returns:esc_new_name        RTSDO_FUNCTION_KEY	LDX	func_pointer	LDA	#13	STA	data_buffer,X	LDX	#>data_buffer	LDY	#<data_buffer	JSR	OSCLI	LDA	#138	LDX	#0	LDY	#136	JSR	OSBYTE	RTSENTER_VIEW	JSR	DO_FUNCTION_KEY	LDX	#>save_new_file_data	LDY	#<save_new_file_data	JSR	OSCLI        JSR     RESTORE 	LDX	#>our_osword	LDY	#<our_osword	STX	os_temp_store	STY	os_temp_store+1		JSR	INTERCEPT_OSWORD_VECTOR:enter_basic	JSR	CHIME_OFF_CODE	LDA	#22			; Select screen mode VDU	JSR	OSWRCH	LDA	screen_mode		; Get users screen Mode	JSR	OSWRCH	LDA	#201			; Disable keyboard to stop	LDX	#0			; users pressing keys before	LDY	#0			; system ready for key inputs	JSR	OSBYTE        LDX	#>basic_language        LDY	#<basic_language        JMP     OSCLI :the_folio_loader	JSR	RESTORE	JSR	CHIME_OFF_CODE	LDA	#0	STA	func_pointer	LDX	#>setup_folio_data	LDY	#<setup_folio_data	JSR	INSERT_FUNC_BUFFER	JSR	DO_FUNCTION_KEY	LDA	#138	LDX	#0	LDY	#27	JSR	OSBYTE	JMP	:enter_basicENTER_WORDWISE	JSR	RESTORE	JSR	CHIME_OFF_CODE	LDA	#0	STA	func_pointer	LDX	#>ww_select_data	LDY	#<ww_select_data	JSR	INSERT_FUNC_BUFFER	LDX	#>name_store	LDY	#<name_store	JSR	INSERT_FUNC_BUFFER	LDX	func_pointer	LDA	#34	STA	data_buffer,X	INX	LDA	#"||"	STA	data_buffer,X	INX	LDA	#"M"	STA	data_buffer,X	INX	STX	func_pointer	JSR	DO_FUNCTION_KEY	LDA	#138	LDX	#0	LDY	#27	JSR	OSBYTE:new_wwise_file        LDX	#>ww_language        LDY	#<ww_language        STX     oscli_store         STY     oscli_store+1 	LDA	#&FE        JSR     ERROR_OSCLI 	LDA	#21	LDX	#0	LDY	#0	JSR	OSBYTE	JSR	ERROR_DISP	RTSCHAIN_PROGRAM        JSR     OPT_WINDOW        LDX	#>chain_load_text        LDY	#<chain_load_text        JSR     PRINT_TEXT:prog_key        JSR     OSRDCH         STA     key_press        CMP	#"1"         BEQ     :ok_load        CMP	#"2"         BEQ     :ok_chain	RTS:ok_load	LDA	#0	STA	func_pointer	LDX	#>basic_load_data	; f8 to LOAD BASIC program	LDY	#<basic_load_data	JSR	INSERT_FUNC_BUFFER	JMP	:attach_ending:ok_chain	LDA	#0	STA	func_pointer	LDX	#>basic_chain_data	; f8 to LOAD BASIC program	LDY	#<basic_chain_data	JSR	INSERT_FUNC_BUFFER:attach_ending	LDA	func_pointer	PHA	LDX	#>name_store	LDY	#<name_store	JSR	INSERT_FUNC_BUFFER	PLA	TAX:find_end_loop		INX	LDA	data_buffer,X	CMP	#123	BPL	:found_end_loop		CMP	#33	BMI	:found_end_loop	JMP	:find_end_loop:found_end_loop	LDA	#34	STA	data_buffer,X	INX	LDA	#"||"	STA	data_buffer,X	INX	LDA	#"F"	STA	data_buffer,X	INX	LDA	#"||"	STA	data_buffer,X	INX	LDA	#"M"	STA	data_buffer,X	INX	STX	func_pointer	JSR	DO_FUNCTION_KEY        JSR     RESTORE	LDA	#21	JSR	OSWRCH	JMP	:enter_basicCHAIN_UTILITY_MENU	LDX	#>utility_exec_location	LDY	#<utility_exec_location	JSR	MOVE_DOWN_MEMORY	; Move from ROM to RAM	STX	cont_blk	STY	cont_blk+1	LDX	#>cont_blk	LDY	#<cont_blk	LDA	#05	JSR	OSFILE	BEQ	:no_utility_exec_file	JSR	CHIME_OFF_CODE        JSR     RESTORE	LDX	#>utility_exec_data	LDY	#<utility_exec_data	JMP	OSCLI	BRK	BRK	BRK:no_utility_exec_file	RTS:not_view_loader	CMP	#07	BEQ	:skip_make_load_file	CMP	#04	BEQ	:skip_make_load_file	LDA	al_wp_type		; Find what WP user wants to use	CMP	#01			; If 1 then use VIEW	BNE	:not_force_view	JMP	:the_view_loader:not_force_view	CMP	#02			; If 2 then use WWISE +	BNE	:not_force_wordwise	JSR	ENTER_WORDWISE		; so use WWISE whatever        JMP	:the_view_loader:not_force_wordwise	CMP	#03			; If 3 then FOLIO	BNE	:skip_make_load_file	JMP	:the_folio_loader:skip_make_load_file	RTSEXIT_FROM_AUTOLOADER	LDX	#>exit_autoloader_location	LDY	#<exit_autoloader_location	STX	cont_blk	STY	cont_blk+1	JSR	MOVE_DOWN_MEMORY		; Move From ROM to RAM	LDX	#>cont_blk	LDY	#<cont_blk	LDA	#05	JSR	OSFILE	BEQ	:no_exit_exec_file_exists	LDX	#>exit_autoloader_data	LDY	#<exit_autoloader_data	JMP	OSCLI	BRK	BRK	BRK:no_exit_exec_file_exists	RTS; In this file for a non Hinwick Rom REM out the following:-;;	LDA	comm_ass_flag		3 lines to REM out;